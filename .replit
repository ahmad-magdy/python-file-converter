# .replit configuration file
language = "python3"

# The onBoot command is removed to prevent context switching issues.
# Instead, we chain the commands in the 'run' field.
run = "pip install -r requirements.txt && python3 -m gunicorn --bind 0.0.0.0:8080 app:app"

# Use the Nix package manager to install system dependencies
[nix]
channel = "stable_23_11"
deps = [
  "tesseract",
  "tesseract_data_eng",
  "tesseract_data_ara",
  "mupdf"
]